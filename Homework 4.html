---
title: "Lesson 4"
author: "Regan Honeycutt"
date: "2/9/2022"
output: html_document
---



install.packages("vegan")
library(vegan)
library(dummies)
install.packages("dummies")
library(dummies)

``` {R}
tree <- read.csv("./treedata_subset.csv")
uni_sp <- unique(tree$spcode)
uni_site <- unique(tree$plotID)
comm <- matrix(0, ncol = length(uni_sp), nrow = length(uni_site))
colnames(comm) = uni_sp
rownames(comm) <- uni_site
for(i in seq_along(uni_sp)) {
  for(j in seq_along(uni_site)) {
    comm[j , i] <- mean(tree$cover[tree$spcode == uni_sp[i] & tree$plotID == uni_site[j]])
  }
}
comm[1:5, 1:5]
 
comm <- tapply(tree$cover,
               INDEX = list(tree$plotID, tree$spcode), 
               mean)

comm = ifelse(is.na(comm), 0, comm)
comm[1:5, 1:5]

```